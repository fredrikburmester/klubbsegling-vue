(function(e){function t(t){for(var r,a,s=t[0],i=t[1],u=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==c[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c={app:0},o=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-5564fa04":"d8bc61aa"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-5564fa04":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-5564fa04":"b983a4f1"}[e]+".css",c=i.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===c))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===c)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var r=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],b.parentNode.removeChild(b),n(o)},b.href=c;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(b);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}c[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2a56":function(e,t,n){},"423a":function(e,t,n){},4360:function(e,t,n){"use strict";var r,a,c=n("5502"),o=n("ade3"),s=(n("d3b7"),n("d017")),i=n("bc3a"),u=n.n(i),l=n("98a0"),d=(n("c4bb"),{token:localStorage.getItem("jwt")||"",status:"",profile:JSON.parse(localStorage.getItem("user"))||{},hasLoadedOnce:!1,userBoats:[]}),b={isAuthenticated:function(e){return!!e.token},getToken:function(e){return e.token},authStatus:function(e){return e.status},getProfile:function(e){return e.profile},getUserBoats:function(e){return e.userBoats}},m=(r={},Object(o["a"])(r,s["d"],(function(e,t){var n=e.commit;return new Promise((function(e,r){n(s["d"]),u()({url:"".concat(s["a"],"/auth/local"),data:t,method:"POST"}).then((function(t){localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("jwt",t.data.jwt),u.a.defaults.headers.common["Authorization"]=t.data.token,n(s["e"],t.data),n(s["i"],t.data.user),Object(l["a"])("Välkommen!",{type:"success",timeout:2e3,position:"top-right"}),e(t)})).catch((function(e){n(s["b"],e),localStorage.removeItem("jwt"),Object(l["a"])("Någonting gick snett...",{type:"danger",timeout:2e3,position:"top-right"}),r(e)}))}))})),Object(o["a"])(r,s["c"],(function(e){var t=e.commit;return new Promise((function(e){t(s["c"]),localStorage.removeItem("jwt"),Object(l["a"])("Du är nu utloggad.",{type:"danger",timeout:2e3,position:"top-right"}),e()}))})),r),h=(a={},Object(o["a"])(a,s["d"],(function(e){e.status="loading"})),Object(o["a"])(a,s["e"],(function(e,t){e.status="success",e.token=t.token,e.hasLoadedOnce=!0})),Object(o["a"])(a,s["b"],(function(e){e.status="error",e.hasLoadedOnce=!0})),Object(o["a"])(a,s["c"],(function(e){e.token=""})),Object(o["a"])(a,s["h"],(function(e){e.status="loading"})),Object(o["a"])(a,s["i"],(function(e,t){e.status="success",e.profile=t})),Object(o["a"])(a,s["g"],(function(e){e.status="error"})),Object(o["a"])(a,s["c"],(function(e){e.profile={}})),Object(o["a"])(a,s["f"],(function(e,t){e.userBoats=t})),a),f={state:d,getters:b,actions:m,mutations:h};t["a"]=Object(c["b"])({modules:{auth:f},plugins:[Object(c["a"])()]})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={class:""},c={class:"mt-16"};function o(e,t,n,o,s,i){var u=Object(r["C"])("router-view"),l=Object(r["C"])("Header"),d=Object(r["C"])("Footer");return Object(r["v"])(),Object(r["g"])("div",a,[Object(r["h"])("div",c,[Object(r["k"])(u)]),e.$route.meta.hideNavigation?Object(r["f"])("",!0):(Object(r["v"])(),Object(r["e"])(l,{key:0})),Object(r["k"])(d,{class:""})])}var s={id:"header"},i={class:"fixed top-0 w-screen left-0 navbar shadow-lg bg-base-100 text-base-content z-50"},u=Object(r["h"])("span",{class:"ml-4 text-lg font-bold text-base-content"},"klubbsegling",-1),l={class:"flex-none hidden px-2 mx-2 sm:flex"},d={class:"flex items-stretch"},b=Object(r["j"])("Hem"),m=Object(r["j"])("Tävlingar"),h=Object(r["j"])("Klubbar"),f=Object(r["j"])("Profil"),g={class:"md:hidden ml-auto"},j=Object(r["h"])("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"inline-block w-6 h-6 stroke-current"},[Object(r["h"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),p=[j];function O(e,t,n,a,c,o){var j=Object(r["C"])("font-awesome-icon"),O=Object(r["C"])("router-link"),v=Object(r["C"])("MobileNav");return Object(r["v"])(),Object(r["g"])("div",s,[Object(r["h"])("div",i,[Object(r["h"])("img",{id:"navbar-logo",class:"rounded-full w-10 h-10 ml-2 cursor-pointer",src:"/img/klubbsegling/logo.png",alt:"logo",onClick:t[0]||(t[0]=function(){return o.goToHome&&o.goToHome.apply(o,arguments)})}),u,Object(r["h"])("div",l,[Object(r["h"])("div",d,[Object(r["k"])(O,{id:"home",class:Object(r["q"])(["btn btn-sm rounded-btn mx-2",o.activeButton("Hem")]),to:"/"},{default:Object(r["L"])((function(){return[Object(r["k"])(j,{icon:"home",class:"mr-2"}),b]})),_:1},8,["class"]),Object(r["k"])(O,{id:"races",class:Object(r["q"])(["btn btn-sm rounded-btn mx-2",o.activeButton("Seglingar")]),to:"/races"},{default:Object(r["L"])((function(){return[Object(r["k"])(j,{icon:"flag",class:"mr-2"}),m]})),_:1},8,["class"]),Object(r["k"])(O,{id:"profile",class:Object(r["q"])(["btn btn-sm rounded-btn mx-2",o.activeButton("anchor")]),to:"/clubs"},{default:Object(r["L"])((function(){return[Object(r["k"])(j,{icon:"user",class:"mr-2"}),h]})),_:1},8,["class"]),Object(r["k"])(O,{id:"profile",class:Object(r["q"])(["btn btn-sm rounded-btn mx-2",o.activeButton("Profil")]),to:"/profile"},{default:Object(r["L"])((function(){return[Object(r["k"])(j,{icon:"user",class:"mr-2"}),f]})),_:1},8,["class"])])]),Object(r["h"])("div",g,[Object(r["h"])("div",{class:"btn border-0 bg-transparent text-base-content hover:bg-primary",onClick:t[1]||(t[1]=function(e){return c.open=!c.open})},p)])]),Object(r["k"])(v,{open:c.open,onCloseNav:t[2]||(t[2]=function(e){return c.open=!1})},null,8,["open"])])}n("b0c0");var v={class:"fixed top-0 left-0 w-screen bg-base-100 z-50"},w={class:""},y={class:"card rounded-none shadow-lg lg:card-side text-primary-content"},x={class:"card-body"},k={class:"flex flex-col"},R={class:"py-4 hover:bg-primary rounded-lg"},S={class:"px-4 text-base-content"},I=Object(r["h"])("hr",{class:"mx-8 border-base-content opacity-10"},null,-1),C=Object(r["h"])("div",{class:"py-8 flex flex-row justify-around"},[Object(r["h"])("p",{class:"text-base-content"},"Om oss"),Object(r["h"])("p",{class:"text-base-content"},"Mer")],-1);function _(e,t,n,a,c,o){var s=Object(r["C"])("font-awesome-icon"),i=Object(r["C"])("router-link");return Object(r["v"])(),Object(r["e"])(r["b"],{name:"slide"},{default:Object(r["L"])((function(){return[Object(r["M"])(Object(r["h"])("div",v,[Object(r["h"])("div",{class:"fixed top-0 left-0 h-screen w-screen",onClick:t[0]||(t[0]=function(t){return e.$emit("close-nav")})}),Object(r["h"])("div",w,[Object(r["h"])("div",y,[Object(r["h"])("div",x,[Object(r["h"])("div",k,[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.menuItems,(function(n){return Object(r["v"])(),Object(r["g"])("div",{key:n,onClick:t[1]||(t[1]=function(t){return e.$emit("close-nav")})},[Object(r["k"])(i,{to:n.route,class:""},{default:Object(r["L"])((function(){return[Object(r["h"])("div",R,[Object(r["h"])("span",S,[Object(r["k"])(s,{icon:n.icon,class:"mr-4"},null,8,["icon"]),Object(r["j"])(" "+Object(r["E"])(n.text),1)])])]})),_:2},1032,["to"])])})),128))])]),I,C])])],512),[[r["I"],n.open]])]})),_:1})}var A={name:"MobileNav",props:{active:{type:String,default:"Home"},open:{type:Boolean,default:!1}},emits:["close-nav"],data:function(){return{menuItems:[{text:"Hem",icon:"home",route:"/"},{text:"Alla Seglingar",icon:"flag",route:"/races"},{text:"Klubbar",icon:"anchor",route:"/clubs"},{text:"Profil",icon:"user",route:"/profile"}]}},methods:{close:function(){this.$emit("close",!0)}}},L=(n("950c"),n("d959")),B=n.n(L);const E=B()(A,[["render",_]]);var U=E,V={name:"Header",components:{MobileNav:U},data:function(){return{open:!1}},computed:{},methods:{activeButton:function(e){return this.$route.name==e?"btn-primary text-base-content":"btn-ghost"},activeButtonDropdown:function(e){return this.$route.name==e?"btn-primary text-base-content":"btn-ghost"},closeNav:function(){this.open=!1},goToHome:function(){this.$router.push("/")}}};n("fada");const P=B()(V,[["render",O]]);var H=P,M={class:"p-10 footer bg-base-200 text-base-content footer-center"},$=Object(r["h"])("div",{class:"grid grid-flow-col gap-4"},[Object(r["h"])("a",{class:"link link-hover"},"About us"),Object(r["h"])("a",{class:"link link-hover"},"Contact")],-1),q={class:"text-sm breadcrumbs"},T=Object(r["j"])("Hem "),N=Object(r["h"])("div",null,[Object(r["h"])("p",null,"Copyright © 2022 - All right reserved by Fredrik Burmester")],-1);function D(e,t,n,a,c,o){var s=Object(r["C"])("font-awesome-icon"),i=Object(r["C"])("router-link");return Object(r["v"])(),Object(r["g"])("footer",M,[$,Object(r["h"])("div",null,[Object(r["h"])("div",q,[Object(r["h"])("ul",null,[Object(r["h"])("li",null,[Object(r["k"])(i,{to:"/"},{default:Object(r["L"])((function(){return[Object(r["k"])(s,{icon:"home",class:"mr-2"}),T]})),_:1})]),(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(e.$route.meta.breadcrumbs,(function(e){return Object(r["v"])(),Object(r["g"])("li",{key:e.name},[Object(r["k"])(i,{to:e.path},{default:Object(r["L"])((function(){return[Object(r["k"])(s,{icon:e.icon,class:"mr-2"},null,8,["icon"]),Object(r["j"])(Object(r["E"])(e.name),1)]})),_:2},1032,["to"])])})),128))])])]),N])}var z={name:"Footer"};const F=B()(z,[["render",D]]);var Y=F,K={components:{Header:H,Footer:Y},computed:{}};n("d648");const J=B()(K,[["render",o]]);var G=J,W=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),Q={class:"wrapper px-6 pt-6 pb-6"},X=Object(r["h"])("h1",{class:"font-bold text-2xl mt-4"},"Din statistik",-1),Z={class:"w-full shadow stats mt-4"},ee=Object(r["h"])("div",{class:"stat-title"},"Seglatser i år",-1),te={class:"stat-value text-info"},ne={class:"stat-desc"},re=Object(r["h"])("div",{class:"stat-title"},"Registrerad",-1),ae={class:"stat-value text-primary"},ce=Object(r["h"])("div",{class:"stat-desc"},null,-1),oe=Object(r["h"])("h1",{class:"font-bold text-2xl mt-4"},"Seglatser i år",-1);function se(e,t,n,a,c,o){var s=Object(r["C"])("Races");return Object(r["v"])(),Object(r["g"])("div",Q,[X,Object(r["h"])("div",Z,[Object(r["h"])("div",{class:Object(r["q"])(["stat cursor-pointer",{"bg-gray-100":"currentRaces"==c.active}]),onClick:t[0]||(t[0]=function(){return o.setThisYearRacesInView&&o.setThisYearRacesInView.apply(o,arguments)})},[ee,Object(r["h"])("div",te,Object(r["E"])(c.currentRaces.length),1),Object(r["h"])("div",ne,Object(r["E"])(o.thisYear),1)],2),Object(r["h"])("div",{class:Object(r["q"])(["stat cursor-pointer",{"bg-gray-100":"registeredRaces"==c.active}]),onClick:t[1]||(t[1]=function(){return o.setRegisteredRacesInView&&o.setRegisteredRacesInView.apply(o,arguments)})},[re,Object(r["h"])("div",ae,Object(r["E"])(c.registeredRaces.length),1),ce],2)]),oe,(Object(r["v"])(),Object(r["e"])(s,{key:c.changeView,"races-in-view":c.racesInView},null,8,["races-in-view"]))])}var ie=n("1da1"),ue=(n("96cf"),n("99af"),{class:"wrapper"}),le={class:"races pt-2 pb-6"};function de(e,t,n,a,c,o){var s=Object(r["C"])("RaceCard2");return Object(r["v"])(),Object(r["g"])("div",ue,[Object(r["h"])("div",le,[Object(r["h"])("div",null,[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.races,(function(e){return Object(r["v"])(),Object(r["g"])("div",{key:e.id},[Object(r["k"])(s,{race:e},null,8,["race"])])})),128))])])])}var be=n("bc3a"),me=n.n(be),he=n("98a0"),fe=(n("c4bb"),n("d017")),ge=function(){var e=Object(ie["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get("".concat(fe["a"],"/races?_sort=name:DESC"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e["catch"](0),Object(he["a"])("Någonting gick snett...",{type:"danger",timeout:2e3,position:"top-right"}),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),je=(n("a4d3"),n("e01a"),{class:"border border-blue-300 card shadow-xl image-full mt-4 h-56"}),pe={key:0},Oe=["src"],ve={class:"justify-end card-body h-56"},we={class:"card-title"},ye={class:"max-h-12 overflow-hidden"},xe=Object(r["h"])("div",{class:"card-actions"},[Object(r["h"])("button",{class:"btn btn-primary"},"Läs mer")],-1);function ke(e,t,n,a,c,o){var s=Object(r["C"])("router-link"),i=Object(r["C"])("LoadingRaceCard");return Object(r["v"])(),Object(r["g"])("div",null,[Object(r["M"])(Object(r["h"])("div",je,[e.hasImages?(Object(r["v"])(),Object(r["g"])("figure",pe,[Object(r["h"])("img",{src:o.headerUrl,onLoad:t[0]||(t[0]=function(){return o.onImgLoad&&o.onImgLoad.apply(o,arguments)})},null,40,Oe)])):Object(r["f"])("",!0),Object(r["h"])("div",ve,[Object(r["h"])("h2",we,Object(r["E"])(n.race.name),1),Object(r["h"])("p",ye,Object(r["E"])(n.race.description||""),1),Object(r["k"])(s,{to:"/race/".concat(n.race.id)},{default:Object(r["L"])((function(){return[xe]})),_:1},8,["to"])])],512),[[r["I"],!e.hasImages||e.imageLoaded]]),!e.imageLoaded&&e.hasImages?(Object(r["v"])(),Object(r["e"])(i,{key:0})):Object(r["f"])("",!0)])}n("c96a");var Re=Object(r["i"])('<div class="border border-blue-300 shadow-xl rounded-2xl p-4 h-56 mt-4 w-full mx-auto"><div class="animate-pulse flex"><div class="flex flex-col"><div class="mx-4 h-2 bg-gray-300 rounded w-32 mt-8"></div><div class="mx-4 h-2 bg-gray-300 rounded w-64 mt-8"></div><div class="mx-4 h-12 w-24 bg-gray-300 rounded-lg mt-8"></div></div></div></div>',1),Se=[Re];function Ie(e,t,n,a,c,o){return Object(r["v"])(),Object(r["g"])("div",null,Se)}var Ce={name:"LoadingCard"};const _e=B()(Ce,[["render",Ie]]);var Ae=_e,Le={components:{LoadingRaceCard:Ae},props:{race:{type:Object,default:function(){}}},data:function(){return{occ:"",hasImages:this.race.images.length>0,images:this.race.images,imageLoaded:!1}},computed:{headerUrl:function(){return fe["a"]+this.race.images[0].formats.small.url}},mounted:function(){},methods:{formatDate:function(e){return void 0!==e?(e=new Date(e),"".concat(e.getFullYear(),"/").concat(e.getMonth()+1,"/").concat(e.getDate())):"-"},loggedIn:function(){return this.$store.getters.isAuthenticated},getUser:function(){return this.$store.getters.getProfile},onImgLoad:function(){this.imageLoaded=!0}}};const Be=B()(Le,[["render",ke]]);var Ee=Be,Ue={name:"Races",components:{RaceCard2:Ee},props:{racesInView:{type:Array,required:!1,default:function(){return[]}},incomingYear:{type:String,required:!1,default:"2022"}},data:function(){return{races:this.racesInView,loaded:!1}},mounted:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.races.length){t.next=5;break}return t.next=3,ge();case 3:e.races=t.sent,setTimeout((function(){return e.loaded=!0}),400);case 5:case"end":return t.stop()}}),t)})))()}};n("82c5");const Ve=B()(Ue,[["render",de]]);var Pe=Ve,He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(a,c){var o="".concat(fe["a"],"/").concat(e);t&&(o=o+"/"+t),n&&(o=o+"?"+n);var s=null;r&&(s={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}),me.a.get(o,s).then((function(e){a(e.data)})).catch((function(e){c(e)}))}))},Me={name:"Home",components:{Races:Pe},data:function(){return{boats:null,races:null,me:this.$store.getters.getProfile,currentRaces:[],registeredRaces:[],racesInView:[],changeView:!1,active:"currentRaces"}},computed:{thisYear:function(){var e=new Date;return e.getFullYear()}},beforeMount:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new Date,r=n.getFullYear(),He("races",null,"created_at_gte=".concat(r,"-01-01&created_at_lte=").concat(r,"-12-31&_sort=name:DESC"),null).then((function(t){e.currentRaces=t})),He("races",null,"registrations.crew_members.id=".concat(e.me.id)).then((function(t){e.registeredRaces=t}));case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){return Object(ie["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{setRegisteredRacesInView:function(){this.racesInView=this.registeredRaces,this.changeView=!this.changeView,this.active="registeredRaces"},setThisYearRacesInView:function(){this.racesInView=this.currentRaces,this.changeView=!this.changeView,this.active="currentRaces"}}};n("c739");const $e=B()(Me,[["render",se]]);var qe=$e,Te={class:"wrapper px-6"};function Ne(e,t,n,a,c,o){var s=Object(r["C"])("Races",!0);return Object(r["v"])(),Object(r["g"])("div",Te,[Object(r["k"])(s)])}var De={name:"RacesView",components:{Races:Pe}};n("883b");const ze=B()(De,[["render",Ne]]);var Fe=ze,Ye={class:"wrapper px-6 pt-2 pb-6"};function Ke(e,t,n,a,c,o){var s=Object(r["C"])("ClubCard");return Object(r["v"])(),Object(r["g"])("div",Ye,[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.clubs,(function(e){return Object(r["v"])(),Object(r["g"])("div",{key:e.id},[Object(r["k"])(s,{club:e},null,8,["club"])])})),128))])}var Je={class:"border border-blue-300 card shadow-xl image-full mt-4 h-56"},Ge={key:0},We=["src"],Qe={class:"justify-end card-body h-56"},Xe={class:"card-title"},Ze={class:"max-h-12 overflow-hidden"},et=Object(r["h"])("div",{class:"card-actions"},[Object(r["h"])("button",{class:"btn btn-primary"},"Läs mer")],-1);function tt(e,t,n,a,c,o){var s=Object(r["C"])("router-link"),i=Object(r["C"])("LoadingCard");return Object(r["v"])(),Object(r["g"])("div",null,[Object(r["M"])(Object(r["h"])("div",Je,[e.hasThumbnail?(Object(r["v"])(),Object(r["g"])("figure",Ge,[Object(r["h"])("img",{src:o.thumbnailURL,onLoad:t[0]||(t[0]=function(){return o.onImgLoad&&o.onImgLoad.apply(o,arguments)})},null,40,We)])):Object(r["f"])("",!0),Object(r["h"])("div",Qe,[Object(r["h"])("h2",Xe,Object(r["E"])(n.club.name),1),Object(r["h"])("p",Ze,Object(r["E"])(n.club.description||""),1),Object(r["k"])(s,{to:"/club/".concat(n.club.id)},{default:Object(r["L"])((function(){return[et]})),_:1},8,["to"])])],512),[[r["I"],!e.hasThumbnail||e.imageLoaded]]),!e.imageLoaded&&e.hasImages?(Object(r["v"])(),Object(r["e"])(i,{key:0})):Object(r["f"])("",!0)])}var nt={components:{LoadingCard:Ae},props:{club:{type:Object,default:function(){}}},data:function(){return{occ:"",hasImages:this.club.images.length>0,hasThumbnail:!!this.club.header,images:this.club.images,imageLoaded:!1,thumbnail:this.club.header.formats.thumbnail.url}},computed:{thumbnailURL:function(){return"".concat(fe["a"]).concat(this.thumbnail)}},methods:{loggedIn:function(){return this.$store.getters.isAuthenticated},getUser:function(){return this.$store.getters.getProfile},onImgLoad:function(){this.imageLoaded=!0}}};const rt=B()(nt,[["render",tt]]);var at=rt,ct={name:"Clubs",components:{ClubCard:at},data:function(){return{clubs:[]}},beforeMount:function(){var e=this;He("clubs").then((function(t){e.clubs=t}))}};const ot=B()(ct,[["render",Ke]]);var st=ot,it={class:"wrapper"},ut={key:0},lt={key:1,class:"flex flex-col overflow-hidden"},dt={key:0,class:"carousel rounded-0 h-64 shadow-xl"},bt=["src"],mt={class:"mx-6 mt-6"},ht={class:"text-5xl font-bold"},ft={class:"mt-2"},gt={class:"shadow stats mx-4 mt-6"},jt={class:"stat"},pt=Object(r["h"])("div",{class:"stat-figure text-secondary"},null,-1),Ot=Object(r["h"])("div",{class:"stat-title"},"Registrerade Båtar",-1),vt={class:"stat-value"},wt=Object(r["i"])('<div class="stat"><div class="stat-figure text-secondary"></div><div class="stat-title">Sträcka</div><div class="stat-value">Obestämt</div><div class="stat-desc">Distans</div></div>',1),yt=Object(r["h"])("h1",{class:"mt-6 ml-6 text-lg font-bold"},"Deltagare:",-1),xt={class:"overflow-x-auto my-4 mx-6"},kt={class:"table w-full table-zebra"},Rt=Object(r["h"])("thead",null,[Object(r["h"])("tr",null,[Object(r["h"])("th",null,"Båtnamn"),Object(r["h"])("th",null,"Handikap"),Object(r["h"])("th",null,"Crew")])],-1),St={class:"w-screen flex space-x-4 h-20 place-content-start ml-6"},It=Object(r["h"])("input",{id:"register-modal",type:"checkbox",class:"modal-toggle"},null,-1),Ct={class:"modal m-0"},_t={class:"modal-box m-0"},At=Object(r["h"])("p",null,"Vilken båt vill du registrera med?",-1),Lt={key:0},Bt=["value"],Et=Object(r["h"])("p",null,"Välj handikappsystem",-1),Ut=["value"],Vt=Object(r["h"])("p",null,"Välj gastar",-1),Pt={key:1,class:"boarder border-slate-500 shadow rounded-md h-16 animate-pulse"},Ht={class:"modal-action flex justify-start"},Mt=Object(r["h"])("label",{for:"register-modal",class:"btn"},"Avbryt",-1),$t=Object(r["h"])("input",{id:"un-register-modal",type:"checkbox",class:"modal-toggle"},null,-1),qt={class:"modal m-0"},Tt={class:"modal-box m-0"},Nt=Object(r["h"])("p",null,"Vilken båt vill du avregistrera?",-1),Dt={key:0},zt=["value"],Ft={key:1,class:"boarder border-slate-500 shadow rounded-md h-16 animate-pulse"},Yt={class:"modal-action flex justify-start"},Kt=Object(r["h"])("label",{for:"un-register-modal",class:"btn"},"Avbryt",-1);function Jt(e,t,n,a,c,o){var s=Object(r["C"])("VueMultiselect");return Object(r["v"])(),Object(r["g"])("div",it,[c.error||c.loading?(Object(r["v"])(),Object(r["g"])("div",ut,Object(r["E"])(c.error),1)):(Object(r["v"])(),Object(r["g"])("div",lt,[c.images.length>0?(Object(r["v"])(),Object(r["g"])("div",dt,[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.images,(function(e){return Object(r["v"])(),Object(r["g"])("div",{key:e.id,class:"carousel-item"},[Object(r["h"])("figure",null,[Object(r["h"])("img",{class:"max-h-64",src:o.getImageURL(e.formats.small.url)},null,8,bt)])])})),128))])):Object(r["f"])("",!0),Object(r["h"])("div",mt,[Object(r["h"])("h2",ht,Object(r["E"])(c.race.name),1),Object(r["h"])("p",ft,Object(r["E"])(c.race.description||""),1)]),Object(r["h"])("div",gt,[Object(r["h"])("div",jt,[pt,Ot,Object(r["h"])("div",vt,Object(r["E"])(c.registrations.length)+"st",1)]),wt]),yt,Object(r["h"])("div",xt,[Object(r["h"])("table",kt,[Rt,Object(r["h"])("tbody",null,[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.registrations,(function(e){return Object(r["v"])(),Object(r["g"])("tr",{key:e.id},[Object(r["h"])("th",null,Object(r["E"])(e.boat.name),1),Object(r["h"])("td",null,Object(r["E"])(e.handicap_system.name),1),Object(r["h"])("td",null,[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(e.crew_members,(function(e){return Object(r["v"])(),Object(r["g"])("kbd",{key:e.id,class:"kbd kbd-sm bg-gray-100 text-black px-2 mr-2"},Object(r["E"])(e.name),1)})),128))])])})),128))])])]),Object(r["h"])("div",St,[Object(r["h"])("label",{for:"register-modal",class:"btn btn-primary text-base-content modal-button",onClick:t[0]||(t[0]=function(e){return o.loadRegisterOptions()})}," Registrera "),It,Object(r["h"])("div",Ct,[Object(r["h"])("div",_t,[At,c.optionsLoaded?(Object(r["v"])(),Object(r["g"])("div",Lt,[Object(r["M"])(Object(r["h"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.selectedBoat=e}),class:"select select-bordered select w-full max-w-xs mb-4"},[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.userBoats,(function(e){return Object(r["v"])(),Object(r["g"])("option",{key:e.id,value:e.id},Object(r["E"])(e.name),9,Bt)})),128))],512),[[r["G"],c.selectedBoat]]),Et,Object(r["M"])(Object(r["h"])("select",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.hsys=e}),class:"select select-bordered select w-full max-w-xs mb-4"},[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.handicap_systems,(function(e){return Object(r["v"])(),Object(r["g"])("option",{key:e.id,value:e.id},Object(r["E"])(e.name),9,Ut)})),128))],512),[[r["G"],c.hsys]]),Vt,Object(r["k"])(s,{modelValue:c.crew,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.crew=e}),options:c.userOptions,multiple:!0,"track-by":"value","close-on-select":!1,label:"label",class:"mb-4"},null,8,["modelValue","options"])])):(Object(r["v"])(),Object(r["g"])("div",Pt)),Object(r["h"])("div",Ht,[Object(r["h"])("label",{for:"register-modal",class:"btn btn-primary",onClick:t[4]||(t[4]=function(e){return o.register()})},"Registrera"),Mt])])]),Object(r["h"])("label",{for:"un-register-modal",class:"btn modal-button text-base-100",onClick:t[5]||(t[5]=function(e){return o.loadRegisterOptions()})}," Avregistrera "),$t,Object(r["h"])("div",qt,[Object(r["h"])("div",Tt,[Nt,c.optionsLoaded?(Object(r["v"])(),Object(r["g"])("div",Dt,[Object(r["M"])(Object(r["h"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.selectedBoat=e}),class:"select select-bordered select w-full max-w-xs mb-4"},[(Object(r["v"])(!0),Object(r["g"])(r["a"],null,Object(r["A"])(c.userBoats,(function(e){return Object(r["v"])(),Object(r["g"])("option",{key:e.id,value:e.id},Object(r["E"])(e.name),9,zt)})),128))],512),[[r["G"],c.selectedBoat]])])):(Object(r["v"])(),Object(r["g"])("div",Ft)),Object(r["h"])("div",Yt,[Object(r["h"])("label",{for:"un-register-modal",class:"btn btn-error",onClick:t[7]||(t[7]=function(e){return o.unregister()})},"Avregistrera"),Kt])])])])]))])}var Gt=!1,Wt=!0,Qt=function(e,t,n,r,a){return new Promise((function(e,c){if(!1===Wt)return c("Registrering stängd."),0;"Bearer ".concat(localStorage.getItem("jwt"));me.a.get("".concat(fe["a"],"/registrations?boat.id=").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(o){if(console.log(o.data),0===o.data.length){var s=[];for(var i in n)s.push(n[i].value);var u={boat:t,crew_members:s,race:r,handicap_system:a};console.log("Data:",u),me.a.post("".concat(fe["a"],"/registrations"),u,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(){e("Registrering lyckades.")}))}else{if(!1===Gt)return c("Registreringen går inte att ändra."),0;s=[];for(var l in n)s.push(n[l].value);var d={handicap_system:a,crew_members:s};me.a.post("".concat(fe["a"],"/registrations/").concat(o.data.id),d,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(){e("Registreringen är uppdaterad.")}))}})).catch((function(e){console.log(e)}))}))},Xt=function(){var e=Object(ie["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){me.a.get("".concat(fe["a"],"/registrations?boat.id=").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){if(0===t.data.length)n("Säker på att den båten är registrerad?");else{console.log(t.data);var r=t.data[0].id;me.a.delete("".concat(fe["a"],"/registrations/").concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e("Registreringen borttagen.")}))}}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(ie["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.a.get("".concat(fe["a"],"/users"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e["catch"](0),Object(he["a"])("Någonting gick snett...",{type:"danger",timeout:2e3,position:"top-right"}),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),en=function(e){return new Promise((function(t,n){me.a.get("".concat(fe["a"],"/registrations?race=").concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){t(e.data)})).catch((function(e){n(e)}))}))},tn=n("826e"),nn=n("aa45"),rn=(n("aa65"),{name:"Race",components:{VueMultiselect:nn["a"]},data:function(){return{race:null,name:null,description:null,images:[],API_URL:fe["a"],img:"",userBoats:[],id:null,boats:[],crew:null,userOptions:[],handicap_systems:[{name:"Hcp",id:1},{name:"Hcp_FC_DWS",id:2},{name:"Hcp_FC_NoDWS",id:3},{name:"Hcp_SH_DWS",id:4},{name:"Hcp_SH_NoDWS",id:5}],hsys:"",selectedBoat:null,optionsLoaded:!1,me:this.$store.getters.getProfile,raceId:this.$route.params.id,registrations:[],error:null,loading:!0}},beforeMount:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(tn["a"])(e.me);case 2:e.userBoats=t.sent,He("users",null,null,!0).then((function(t){for(var n in t)e.userOptions.push({value:t[n].id,label:t[n].name})})),He("registrations",null,"race=".concat(e.$route.params.id),!0).then((function(t){e.registrations=t}));case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:He("races",e.$route.params.id,null,null).then((function(t){e.race=t,e.images=e.race.images,e.id=e.race.id,e.loading=!1}));case 1:case"end":return t.stop()}}),t)})))()},methods:{register:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("register fields:",e.me,e.selectedBoat,e.crew,e.raceId,e.hsys),Qt(e.me,e.selectedBoat,e.crew,e.raceId,e.hsys).then((function(t){Object(he["a"])(t,{type:"success"}),en(e.$route.params.id).then((function(t){e.registrations=t}))})).catch((function(e){Object(he["a"])(e,{type:"danger"})}));case 2:case"end":return t.stop()}}),t)})))()},unregister:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Xt(e.selectedBoat).then((function(t){Object(he["a"])(t,{type:"success"}),en(e.$route.params.id).then((function(t){e.registrations=t}))})).catch((function(e){Object(he["a"])(e,{type:"danger"})}));case 1:case"end":return t.stop()}}),t)})))()},loadRegisterOptions:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Zt();case 2:e.users=t.sent,e.optionsLoaded=!0;case 4:case"end":return t.stop()}}),t)})))()},getImageURL:function(e){return"".concat(this.API_URL).concat(e)}}});n("d742"),n("f638");const an=B()(rn,[["render",Jt]]);var cn=an,on={id:"boat",class:"wrapper"},sn={key:0,class:"hero min-h-screen items-start pt-8"},un={class:"flex flex-col hero-content lg:flex-row-reverse items-start"},ln=["src"],dn={class:"sm:justify-start"},bn={class:"mb-5 text-5xl font-bold"},mn={class:"mb-5"};function hn(e,t,n,a,c,o){return Object(r["v"])(),Object(r["g"])("div",on,[c.loading?Object(r["f"])("",!0):(Object(r["v"])(),Object(r["g"])("div",sn,[Object(r["h"])("div",un,[c.image?(Object(r["v"])(),Object(r["g"])("img",{key:0,src:c.image,class:"max-w-sm rounded-lg shadow-2xl"},null,8,ln)):Object(r["f"])("",!0),Object(r["h"])("div",dn,[Object(r["h"])("h1",bn,Object(r["E"])(c.boat.name),1),Object(r["h"])("p",mn,Object(r["E"])(c.boat.description||""),1)])])]))])}var fn={name:"Boat",data:function(){return{image:null,loading:!0,boat:null}},beforeMount:function(){var e=this;He("boats",this.$route.params.id).then((function(t){e.boat=t,e.loading=!1,e.image=fe["a"]+t.image.url})).catch((function(e){console.log(e)}))},methods:{}};n("b289");const gn=B()(fn,[["render",hn]]);var jn=gn,pn={class:"about"},On=Object(r["h"])("h1",null,"This is an profile proteted page",-1),vn=[On];function wn(e,t){return Object(r["v"])(),Object(r["g"])("div",pn,vn)}const yn={},xn=B()(yn,[["render",wn]]);var kn=xn,Rn={class:"lg:flex lg:justify-around lg:flex-row container sm:mx-auto mt-48 px-14 pb-56"},Sn=Object(r["h"])("div",{class:"lg:mx-12 self-center"},[Object(r["h"])("h1",{class:"mb-5 text-5xl font-bold text-left"},"Klubbsegling"),Object(r["h"])("p",{class:"mb-5"},[Object(r["j"])("Välkommen till Sveriges bästa hemsida för "),Object(r["h"])("br"),Object(r["j"])("seglingsentusiaster!")])],-1),In=Object(r["j"])(" . "),Cn={class:"card-body"},_n=Object(r["h"])("label",{class:"label"},"Användarnamn",-1),An=Object(r["h"])("label",{class:"label"},"Lösenord",-1),Ln=Object(r["h"])("hr",null,null,-1),Bn={key:0,class:"btn btn-primary my-4 loading",type:"submit"},En={key:1,class:"btn btn-primary my-4",type:"submit"};function Un(e,t,n,a,c,o){return Object(r["v"])(),Object(r["g"])("div",Rn,[Sn,Object(r["h"])("form",{class:"lg:card lg:shadow-2xl lg:rounded-3xl lg:w-2/5 form-control",onSubmit:t[2]||(t[2]=Object(r["O"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[In,Object(r["h"])("div",Cn,[_n,Object(r["M"])(Object(r["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.username=t}),class:"input input-bordered",required:"",type:"text",placeholder:"användarnamn"},null,512),[[r["H"],e.username]]),An,Object(r["M"])(Object(r["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e}),class:"input input-bordered",required:"",type:"password",placeholder:"lösenord"},null,512),[[r["H"],c.password]]),Ln,c.loading?(Object(r["v"])(),Object(r["g"])("button",Bn)):(Object(r["v"])(),Object(r["g"])("button",En,"Login"))])],32)])}var Vn={data:function(){return{email:"",password:"",loading:!1}},methods:{login:function(){var e=this;this.loading=!0;var t=this.username,n=this.password,r={identifier:t,password:n};this.$store.dispatch(fe["d"],r).then((function(){e.$emit("loggedIn"),null!=e.$route.params.nextUrl?e.$router.push(e.$route.params.nextUrl):e.$router.push("/")}))}}};const Pn=B()(Vn,[["render",Un]]);var Hn=Pn,Mn=Object(r["h"])("h4",null,"Register",-1),$n=Object(r["h"])("label",{for:"name"},"Name",-1),qn=Object(r["h"])("label",{for:"email"},"E-Mail Address",-1),Tn=Object(r["h"])("label",{for:"password"},"Password",-1),Nn=Object(r["h"])("label",{for:"password-confirm"},"Confirm Password",-1),Dn=Object(r["h"])("label",{for:"password-confirm"},"Is this an administrator account?",-1),zn=Object(r["h"])("option",{value:"1"},"Yes",-1),Fn=Object(r["h"])("option",{value:"0"},"No",-1),Yn=[zn,Fn];function Kn(e,t,n,a,c,o){return Object(r["v"])(),Object(r["g"])("div",null,[Mn,Object(r["h"])("form",null,[$n,Object(r["h"])("div",null,[Object(r["M"])(Object(r["h"])("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.name=e}),type:"text",required:"",autofocus:""},null,512),[[r["H"],c.name]])]),qn,Object(r["h"])("div",null,[Object(r["M"])(Object(r["h"])("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.email=e}),type:"email",required:""},null,512),[[r["H"],c.email]])]),Tn,Object(r["h"])("div",null,[Object(r["M"])(Object(r["h"])("input",{id:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e}),type:"password",required:""},null,512),[[r["H"],c.password]])]),Nn,Object(r["h"])("div",null,[Object(r["M"])(Object(r["h"])("input",{id:"password-confirm","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password_confirmation=e}),type:"password",required:""},null,512),[[r["H"],c.password_confirmation]])]),Dn,Object(r["h"])("div",null,[Object(r["M"])(Object(r["h"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.is_admin=e})},Yn,512),[[r["G"],c.is_admin]])]),Object(r["h"])("div",null,[Object(r["h"])("button",{type:"submit",onClick:t[5]||(t[5]=function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)})},"Register")])])])}var Jn={props:{nextUrl:{type:String,default:"/"}},data:function(){return{name:"",email:"",password:"",password_confirmation:"",is_admin:null}},methods:{handleSubmit:function(e){var t=this;if(e.preventDefault(),!(this.password===this.password_confirmation&&this.password.length>0))return this.password="",this.passwordConfirm="",alert("Passwords do not match");var n="http://localhost:3000/register";this.$http.post(n,{name:this.name,email:this.email,password:this.password,is_admin:this.is_admin}).then((function(e){localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt")&&(t.$emit("loggedIn"),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("/"))})).catch((function(e){0}))}}};const Gn=B()(Jn,[["render",Kn]]);var Wn=Gn,Qn=function(){return n.e("chunk-5564fa04").then(n.bind(null,"c66d"))},Xn=[{path:"/",name:"Hem",component:qe,meta:{requiresAuth:!0},children:[{path:"active",name:"Seglatser i år",component:Fe,meta:{requiresAuth:!1},props:function(e){return{query:e.query.status}}}]},{path:"/races",name:"Seglingar",component:Fe,meta:{requiresAuth:!0,breadcrumbs:[{name:"Seglingar",path:"/races",icon:"flag"}]}},{path:"/clubs",name:"Klubbar",component:st,meta:{requiresAuth:!1,breadcrumbs:[{name:"Klubbar",path:"/clubs",icon:"anchor"}]}},{path:"/race/:id",name:"Segling",component:cn,meta:{requiresAuth:!1,breadcrumbs:[{name:"Seglingar",path:"/races",icon:"flag"},{name:"Segling",path:"/races/:id",icon:"calendar"}]}},{path:"/profile",name:"Profil",component:Qn,meta:{requiresAuth:!0,breadcrumbs:[{name:"Profil",path:"/profile",icon:"user"}]}},{path:"/profile/boat/:id",name:"Min Båt",component:jn,meta:{requiresAuth:!0,breadcrumbs:[{name:"Profil",path:"/profile",icon:"user"},{name:"Båt",path:"/profile/boat/:id",icon:"ship"}]}},{path:"/boat/:id",name:"Båt",component:jn,meta:{requiresAuth:!1,breadcrumbs:[{name:"Båt",path:"/boat/:id"}]}},{path:"/login",name:"Login",component:Hn,meta:{hideNavigation:!0}},{path:"/register",name:"Registrera",component:Wn,meta:{hideNavigation:!0}},{path:"/admin",name:"Admin",component:kn,meta:{requiresAuth:!0,is_admin:!0}}],Zn=Object(W["a"])({history:Object(W["b"])("/"),routes:Xn});Zn.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuth})))if(null==localStorage.getItem("jwt"))n({path:"/login",params:{nextUrl:e.fullPath}});else{var r=JSON.parse(localStorage.getItem("user"));e.matched.some((function(e){return e.meta.is_admin}))?1==r.is_admin?n():n({name:"Home"}):n()}else e.matched.some((function(e){return e.meta.guest}))?null==localStorage.getItem("jwt")?n():n({name:"Home"}):n()}));var er=Zn,tr=n("4360"),nr=n("ecee"),rr=n("c074"),ar=n("ad3d"),cr=n("957f"),or=n("365c"),sr=n("4cc9"),ir=n("9483");Object(ir["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("a766"),n("ba8c");var ur=new cr["a"],lr=new or["a"]({cache:ur,uri:"".concat(fe["a"],"/graphql"),headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}),dr=Object(sr["a"])({defaultClient:lr});nr["c"].add(rr["c"]),nr["c"].add(rr["d"]),nr["c"].add(rr["f"]),nr["c"].add(rr["g"]),nr["c"].add(rr["e"]),nr["c"].add(rr["b"]),nr["c"].add(rr["a"]),Object(r["d"])(G).use(tr["a"]).use(er).use(dr).component("font-awesome-icon",ar["a"]).mount("#app")},"826e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("d3b7"),n("99af");var r=n("bc3a"),a=n.n(r),c=n("98a0"),o=(n("c4bb"),n("d017")),s=n("4360"),i=function(e){return new Promise((function(t,n){s["a"].getters.getUserBoats.length>0?t(s["a"].getters.getUserBoats):a.a.get("".concat(o["a"],"/boats?sailors.username=").concat(e.username),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){s["a"].commit("USER_BOATS",e.data),t(e.data)})).catch((function(e){Object(c["a"])("Kunde inte hämta dina båtar...",{type:"danger",timeout:2e3,position:"top-right"}),n(e)}))}))}},"82c5":function(e,t,n){"use strict";n("cebf")},"883b":function(e,t,n){"use strict";n("423a")},9190:function(e,t,n){},"950c":function(e,t,n){"use strict";n("9190")},a461:function(e,t,n){},a766:function(e,t,n){},b289:function(e,t,n){"use strict";n("c719")},ba8c:function(e,t,n){},c719:function(e,t,n){},c739:function(e,t,n){"use strict";n("a461")},cebf:function(e,t,n){},d017:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d}));var r="AUTH_REQUEST",a="AUTH_SUCCESS",c="AUTH_ERROR",o="AUTH_LOGOUT",s="USER_REQUEST",i="USER_SUCCESS",u="USER_ERROR",l="USER_BOATS",d="https://admin.klubbsegling.se"},d648:function(e,t,n){"use strict";n("2a56")},ded5:function(e,t,n){},eec1:function(e,t,n){},f638:function(e,t,n){"use strict";n("ded5")},fada:function(e,t,n){"use strict";n("eec1")}});
//# sourceMappingURL=app.9731e32e.js.map